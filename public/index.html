<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moments.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,600;1,9..144,400&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="toast-container"></div>

    <div class="app-wrapper">
        
        <div id="auth-section" class="auth-container">
            <div class="auth-content">
                <h1 class="brand-title">Moments<i>.</i></h1>
                <p class="brand-subtitle">Collect memories, not just events.</p>

                <div class="toggle-pill">
                    <button onclick="switchTab('login')" id="btn-login" class="active">Log in</button>
                    <button onclick="switchTab('register')" id="btn-register">Sign up</button>
                </div>

                <form id="login-form" class="fade-in">
                    <div class="input-wrapper">
                        <i class="fa-regular fa-envelope"></i>
                        <input type="email" id="login-email" placeholder="hello@example.com" required>
                    </div>
                    <div class="input-wrapper">
                        <i class="fa-solid fa-lock-open"></i> <input type="password" id="login-password" placeholder="Your password" required>
                    </div>
                    <button type="submit" class="main-btn">Welcome back <i class="fa-solid fa-arrow-right"></i></button>
                </form>

                <form id="register-form" class="fade-in hidden">
                    <div class="input-wrapper">
                        <i class="fa-regular fa-face-smile"></i>
                        <input type="text" id="reg-name" placeholder="What's your name?" required>
                    </div>
                    <div class="input-wrapper">
                        <i class="fa-regular fa-envelope"></i>
                        <input type="email" id="reg-email" placeholder="Email address" required>
                    </div>
                    <div class="input-wrapper">
                        <i class="fa-solid fa-lock-open"></i> <input type="password" id="reg-password" placeholder="Create a password" required>
                    </div>
                    <button type="submit" class="main-btn">Join us</button>
                </form>
            </div>
        </div>

        <div id="dashboard-section" class="dashboard-layout hidden">
            
            <nav class="sidebar">
                <div class="sidebar-header">
                    <div class="logo-text">M<i>.</i></div>
                    
                    <div class="user-chip">
                        <div class="avatar-circle" id="user-avatar">U</div>
                        <div style="display: flex; flex-direction: column; align-items: flex-start;">
                            <span id="user-name">User</span>
                            <button onclick="window.openProfileModal()" class="edit-profile-btn">
                                <i class="fa-solid fa-gear"></i> Edit Profile
                            </button>
                        </div>
                    </div>
                </div>

                <div class="create-wrapper">
                    <p class="section-label">Create New</p>
                    <form id="event-form">
                        <input type="text" id="event-title" placeholder="Event Name" class="clean-input" required>
                        <input type="text" id="event-location" placeholder="Where?" class="clean-input" required>
                        <input type="date" id="event-date" class="clean-input" required>
                        <textarea id="event-desc" placeholder="Add some details..." rows="3" class="clean-input"></textarea>
                        <button type="submit" class="sidebar-btn"><i class="fa-solid fa-plus"></i> Add Event</button>
                    </form>
                </div>

                <div class="quote-widget" style="margin-top: 20px; background: #FFF3E0; padding: 20px; border-radius: 12px; color: #E65100; border-left: 5px solid #FF9800;">
                    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom: 10px;">
                        <span style="font-weight:700; font-size:0.8rem; text-transform: uppercase; opacity: 0.7;">Daily Inspiration</span>
                        <i class="fa-solid fa-quote-right" style="font-size:1.2rem; opacity: 0.5;"></i>
                    </div>
                    <div style="font-size:1.1rem; font-style: italic; font-weight: 500; line-height: 1.4;" id="quote-text">
                        Loading thought...
                    </div>
                    <div style="margin-top:10px; font-size:0.9rem; font-weight:700; text-align: right;" id="quote-author">
                        —
                    </div>
                </div>

                <div class="logout-wrapper">
                    <button onclick="logout()" class="logout-link">
                        <i class="fa-solid fa-arrow-right-from-bracket"></i> Log out
                    </button>
                </div>
            </nav>

            <main class="feed">
                <header class="feed-header">
                    <div>
                        <h2>Your Collection</h2>
                        <p class="date-today" id="current-date">Today</p>
                    </div>
                </header>

                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #EEF2FF; color: #6366F1;">
                            <i class="fa-solid fa-calendar-check"></i>
                        </div>
                        <div>
                            <span class="stat-number" id="stat-total">0</span>
                            <span class="stat-label">Total Events</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #ECFDF5; color: #10B981;">
                            <i class="fa-solid fa-arrow-up"></i>
                        </div>
                        <div>
                            <span class="stat-number" id="stat-upcoming">0</span>
                            <span class="stat-label">Upcoming</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #FFF7ED; color: var(--accent);">
                            <i class="fa-solid fa-clock-rotate-left"></i>
                        </div>
                        <div>
                            <span class="stat-number" id="stat-past">0</span>
                            <span class="stat-label">Past</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: #FDF2F8; color: #EC4899;">
                            <i class="fa-solid fa-star"></i>
                        </div>
                        <div>
                            <span class="stat-number" id="stat-nearest">—</span>
                            <span class="stat-label">Next Event</span>
                        </div>
                    </div>
                </div>

                <div class="filter-bar">
                    <div class="search-box">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="text" id="search-input" placeholder="Search events...">
                    </div>
                    <div class="filter-pills">
                        <button class="filter-pill active" data-filter="all">All</button>
                        <button class="filter-pill" data-filter="upcoming">Upcoming</button>
                        <button class="filter-pill" data-filter="past">Past</button>
                    </div>
                </div>

                <div id="events-list" class="grid-feed">
                </div>

                <div id="empty-state" class="hidden empty-placeholder">
                    <img src="https://cdn-icons-png.flaticon.com/512/7486/7486747.png" alt="Relax" width="80">
                    <p>It's quiet here. Time to plan something?</p>
                </div>
            </main>
        </div>
    </div>

    <div id="edit-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="window.closeModal('edit-modal')">&times;</span>
            <h2>Edit Event</h2>
            <form id="edit-form">
                <input type="hidden" id="edit-id"> 
                
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" id="edit-title" required>
                </div>
                
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="edit-date" required>
                </div>
                
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" id="edit-location">
                </div>
                
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="edit-desc" rows="3"></textarea>
                </div>
                
                <button type="submit" class="btn-primary">Save Changes</button>
            </form>
        </div>
    </div>

    <div id="profile-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="window.closeModal('profile-modal')">&times;</span>
            <h3>My Profile</h3>
            <form id="profile-form">
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" id="profile-name" required>
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" id="profile-email" required>
                </div>
                <div class="modal-buttons">
                    <button type="submit" class="btn-primary">Update Profile</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
    
    <script>
        const dateElem = document.getElementById('current-date');
        if(dateElem) {
            const options = { weekday: 'long', month: 'long', day: 'numeric' };
            dateElem.textContent = new Date().toLocaleDateString('en-US', options);
       }
    </script>
</body>
</html>